!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.updateSize=function(){this.DOM.width=window.innerWidth,this.DOM.height=window.innerHeight},t.DOM=document.getElementById("scene"),t.context=t.DOM.getContext("2d"),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),n=i(1),r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this.radius=15,this.direction=Math.random()*Math.PI*2,this.speed=3,this.color="rgb(36, 206, 167)",this.colors=[[36,206,167],[226,17,142]],this.shiftColor=Math.random()}return t.prototype.draw=function(){o.default.context.beginPath(),o.default.context.strokeStyle=this.color,o.default.context.lineWidth=3,o.default.context.arc(this.x,this.y,this.radius,0,2*Math.PI),o.default.context.stroke()},t.prototype.move=function(t,e){this.x=t,this.y=e},t.prototype.moveByDirection=function(t){void 0===t&&(t=0);var e=this.x+this.speed*Math.sin(this.direction),i=this.y+this.speed*Math.cos(this.direction);e>window.innerWidth+this.radius&&(e=-this.radius),e<-this.radius&&(e=window.innerWidth+this.radius),i>window.innerHeight+this.radius&&(i=-this.radius),i<-this.radius&&(i=window.innerHeight+this.radius),this.move(e,i)},t.prototype.updateColor=function(){var t,e=this,i=n.default.game.time,o=this.colors[0],r=this.colors[1];this.color="rgb("+(t=function(t){return Math.cos(i+e.shiftColor)*(o[t]-r[t])/2+(o[t]+r[t])/2})(0)+", "+t(1)+", "+t(2)+")"},t.prototype.update=function(){this.moveByDirection()},t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.toDegrees=function(t){return t*(180/Math.PI)},t.getDistance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getAngle=function(t,e){var i=this.toDegrees(Math.atan2(t.y-e.y,t.x-e.x));return i<0&&(i+=360),i},t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(5),n=i(1);console.log("I love Tolya soooooo sooooo muuuch!!!! <3"),n.default.game=new o.default,n.default.game.init()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(6),n=i(0),r=i(7),s=i(8),a=function(){function t(){}return t.prototype.init=function(){n.default.updateSize(),this.setActions(),this.restart(),this.render()},t.prototype.updateTime=function(){this.time+=.005},t.prototype.setActions=function(){var t=this;$("#scene").click((function(e){var i=e.pageX,o=e.pageY;t.createEnemy(i,o)})),$(window).resize((function(){n.default.updateSize()}))},t.prototype.createEnemy=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=new o.default(t,e);this.scene.add(i),this.balls.push(i)},t.prototype.createPlayer=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=new s.default(t,e);this.scene.add(i),this.players.push(i)},t.prototype.moveAllBalls=function(){this.balls.forEach((function(t){return t.update()}))},t.prototype.moveAllPlayers=function(){this.players.forEach((function(t){return t.update()}))},t.prototype.killPlayer=function(t){this.scene.remove(t);var e=this.players.indexOf(t);this.players.splice(e,1),this.restart()},t.prototype.restart=function(){this.balls=[],this.players=[],this.time=0,this.scene=new r.default,this.createPlayer()},t.prototype.render=function(){requestAnimationFrame(this.render.bind(this)),this.updateTime(),n.default.context.clearRect(0,0,window.innerWidth,window.innerHeight),this.moveAllBalls(),this.moveAllPlayers(),this.scene.draw()},t}();e.default=a},function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(3),a=i(0),u=i(1),c=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.updateRadiusStep=.5,o.collisions=[],o.lines=[],o.isDead=!1,o}return n(e,t),e.prototype.checkCollision=function(t){var e=s.default.getDistance(this,t);return t!=this&&e<this.radius+t.radius&&-1==this.collisions.indexOf(t)},e.prototype.onCollision=function(){var t=this;u.default.game.balls.forEach((function(e){t.checkCollision(e)&&(e.collisions.push(t),e.direction=t.direction,e.moveByDirection(),t.direction+=Math.PI,t.moveByDirection());var i=s.default.getDistance(t,e);if(e!=t&&i<400&&-1==t.lines.indexOf(e)){e.lines.push(t),a.default.context.beginPath();var o=a.default.context.createLinearGradient(t.x,t.y,e.x,e.y);o.addColorStop(0,"rgba(128, 0, 128, "+(1-i/400)+")"),o.addColorStop(1,"rgba(255, 192, 203, "+(1-i/400)+")"),a.default.context.strokeStyle=o,a.default.context.lineWidth=2,a.default.context.moveTo(t.x,t.y),a.default.context.lineTo(e.x,e.y),a.default.context.stroke()}})),this.collisions=[],this.lines=[]},e.prototype.die=function(){var t=this;this.isDead=!0,this.onDeath().then((function(){u.default.game.scene.remove(t);var e=u.default.game.balls.indexOf(t);u.default.game.balls.splice(e,1)}))},e.prototype.onDeath=function(){var t=this;return new Promise((function(e){var i=setInterval((function(){t.radius-=.8,t.radius<=3&&(clearInterval(i),e(!0))}),16)}))},e.prototype.changeRadius=function(){this.radius+=this.updateRadiusStep,(this.radius>30||this.radius<5)&&(this.updateRadiusStep=-this.updateRadiusStep)},e.prototype.update=function(){t.prototype.update.call(this),this.updateColor(),0==this.isDead&&(this.changeRadius(),this.onCollision())},e}(r.default);e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){this.children=[]}return t.prototype.draw=function(){this.children.forEach((function(t){return t.draw()}))},t.prototype.add=function(t){this.children.push(t)},t.prototype.remove=function(t){var e=this.children.indexOf(t);this.children.splice(e,1)},t}();e.default=o},function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(0),a=i(1),u=i(3),c=i(9),l=function(t){function e(e,i){var o=t.call(this,e,i)||this;return o.setPlayerActions(),o.radius=20,o.meteors=[],o}return n(e,t),e.prototype.setPlayerActions=function(){var t=this;$(window).keydown((function(e){switch(e.which){case 38:t.speed<5&&(t.speed+=.5);break;case 40:t.speed>1&&(t.speed-=.5);break;case 37:t.direction-=Math.PI/180*5;break;case 39:t.direction+=Math.PI/180*5}}))},e.prototype.draw=function(){s.default.context.beginPath(),s.default.context.fillStyle=this.color,s.default.context.lineWidth=3,s.default.context.arc(this.x,this.y,this.radius,0,2*Math.PI),s.default.context.fill(),this.meteors.forEach((function(t){t.update()}))},e.prototype.update=function(){this.moveByDirection(),this.updateColor(),this.onCollision()},e.prototype.createMeteor=function(){var t=new c.default(this);this.meteors.push(t)},e.prototype.checkCollision=function(t){var e=u.default.getDistance(this,t);return t!=this&&e<this.radius+t.radius},e.prototype.onCollision=function(){var t=this;a.default.game.balls.forEach((function(e){t.checkCollision(e)&&0==e.isDead&&(t.eatBall(e),t.createMeteor())}))},e.prototype.eatBall=function(t){t.die()},e}(r.default);e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(0),n=function(){function t(t){this.x=t.x,this.y=t.y,this.speed=Math.random()*Math.PI/20+Math.PI/180,this.radius=3,this.color="white",this.parent=t,this.angle=0,this.updateRadiusStep=1}return t.prototype.draw=function(){o.default.context.beginPath(),o.default.context.fillStyle=this.color,o.default.context.lineWidth=3,o.default.context.arc(this.x,this.y,this.radius,0,2*Math.PI),o.default.context.fill()},t.prototype.getPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.parent.x+t,o=this.parent.y+this.parent.radius+e,n=this.parent.x,r=this.parent.y,s=i-n,a=o-r,u=Math.cos(this.angle),c=Math.sin(this.angle);this.x=n+s*u-a*c,this.y=r+s*c+a*u},t.prototype.update=function(){this.angle+=this.speed,this.getPosition(0,10),this.draw()},t}();e.default=n}]);